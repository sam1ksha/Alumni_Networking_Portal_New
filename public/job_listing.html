<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Listings</title>
    <link rel="stylesheet" href="/css/job_listing_styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="/js/job_listing.js"></script>
</head>
<body>
    <header>
        <nav>
            <div class="logo">AlumNet</div>
            <div class="nav-links">
                <a href="/profile.html/:uid" id="profile-page">Profile</a>
                <a href="/forums.html/:uid" id="forums-link">Forums</a>
                <a href="/posts.html/:uid" id="posts-link">Posts</a> 
                <a href="/joblisting/:uid" id="job-listing-link">Jobs</a>  
                <a href="/index.html">Logout</a>
            </div>
        </nav>
    </header>

    <div class="container">
        <h1>Job Listings</h1>
        <div class="job-listings" id="job-listings-container">
            <!-- Job boxes will be dynamically injected here -->
        </div>

        <div class="actions">
            <button class="btn" id="appliedJobsButton">Applied Jobs</button>
            <button class="btn" id="job-create-link">Post a Job</button>
            <button class="btn" id="togglePanel">My Jobs</button>
        </div>
    </div>

    <!-- Side Panel for Job Management -->
<!-- Side Panel for Job Management -->
<div class="right-panel" id="jobManagementPanel">
    <div class="panel-header">
        <h2>Jobs Created by Me</h2>
        <button class="btn-close" id="closePanel">×</button>
    </div>
    <div class="panel-content">
        <div class="my-jobs-list" id="myJobsList">
            <!-- Job items will be inserted here -->
        </div>
    </div>
</div>
<!-- Left Panel for Applied Jobs -->
<div class="left-panel" id="appliedJobsPanel">
    <div class="panel-header">
        <h2>Jobs I Applied For</h2>
        <button class="btn-close" id="closeAppliedJobsPanel">×</button>
    </div>
    <div class="panel-content">
        <div class="applied-jobs-list" id="appliedJobsList">
            <!-- Applied job items will be dynamically loaded here -->
        </div>
    </div>
</div>

    <footer>
        <div class="footer-container">
            <p>&copy; 2024 AlumNet. All Rights Reserved.</p>
            <div class="footer-links">
                <a href="#">Contact Us</a>
                <a href="#">Terms of Service</a>
                <a href="#">Privacy Policy</a>
            </div>
        </div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const userId = window.location.pathname.split('/')[2];  // Get the userId from the URL

            const links = [
                { id: 'profile-page', path: `/profile/${userId}` },
                { id: 'job-listing-link', path: `/joblisting/${userId}` },
                { id: 'forums-link', path: `/forums/${userId}` },  // This will now work
                { id: 'posts-link', path: `/posts/${userId}` }
            ];


            links.forEach(link => {
                const element = document.getElementById(link.id);
                if (element) {
                    element.href = link.path;  // Set href with userId
                }
            });
        });
            



    </script>


</body>
</html>
